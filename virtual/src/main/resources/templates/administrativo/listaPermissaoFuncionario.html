<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{administrativo/fragments/layout}">
<head>

	<meta charset="utf-8">
    <title>Lista de Permissões de Funcionários</title>
</head>
<body>		

        <!-- Page Content -->
        <section class="layout-content" layout:fragment="corpo">

		<h2 align="center">Lista de Permissões de Funcionários</h2>

		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-bordered" id="dataTable" width="100%"
					cellspacing="0">
					<thead class="thead-dark">
						<tr>
							<th class="coluna0">ID</th>
							<th class="coluna1">Funcionário</th>
							<th class="coluna2">Papéis</th>
							<th class="coluna3">Data da Permissão</th>
							<th class="coluna4"></th>
							<th class="coluna5"></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="permissaoFuncionario : ${permissaoFuncionario}">
							<td class="coluna0" th:text="${permissaoFuncionario.id}"></td>
							<td class="coluna1"
								th:text="${permissaoFuncionario.funcionario.nome}"></td>
							<td class="coluna2" th:text="${permissaoFuncionario.papel.nome}"></td>
							<td class="coluna3"
								th:text="${#dates.format(permissaoFuncionario.dataPermissao, 'dd/MMMM/yyyy HH:mm')}"></td>
							<td><a
								th:href="@{/editarPermissaoFuncionario/{id}(id=${permissaoFuncionario.id})}"><button
										type="button" class="btn btn-primary btn-sm">Alterar</button></a></td>
							<td><a class="" data-toggle="modal"
								data-target="#modal-warning"
								th:attr="data-target='#modal-warning'+${permissaoFuncionario.id }"><button
										type="button" class="btn btn-danger btn-sm" title="Remover"
										aria-hidden="true">Remover</button></a>

								<div class="modal modal-warning fade in "
									th:id="modal-warning+${permissaoFuncionario.id}">
									<div class="modal-dialog ">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"
													aria-label="Fechar">
													<span class="text-danger" aria-hidden="true">×</span>
												</button>
												<h5 class="modal-title text-danger">Remover Permissão</h5>
											</div>
											<div class="modal-body">
												<h3>Deseja realmente remover a permissão do funcionário?</h3>
											</div>
											<div class="modal-footer">
												<button type="button"
													class="btn btn-secondary btn-sm pull-left "
													data-dismiss="modal">Fechar</button>
												<a type="button" class="btn btn-success btn-sm pull-left"
													th:href="@{/removerPermissaoFuncionario/{id}(id=${permissaoFuncionario.id})}"><i
													class="fa fa-check"></i>&nbsp;Sim</a>
											</div>
										</div>
									</div>
								</div></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		
	</section>        	
  
</body>
</html>
